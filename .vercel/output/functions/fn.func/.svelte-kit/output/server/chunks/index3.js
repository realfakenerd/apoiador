import{e,a as t,b as o,k as s,s as i,u as n,n as r,l as a,h as d,i as l}from"./index4.js";import{g as c,s as u,h as p,c as v,i as f,a as y,b as O,d as g,f as m}from"./ssr.js";import{w as h,d as b}from"./index2.js";import{t as C,e as k,g as E,o as F,s as x,b as S,a as A,m as w,d as T,u as N,r as P,h as j,c as D,n as M,f as R,i as V,j as $,k as I}from"./updater.js";import{tv as z}from"tailwind-variants";import"clsx";const B={mainNav:[{title:"Inicio",href:"/"},{title:"Procedimentos",href:"/procedimentos"},{title:"Condomínios",href:"/condominios"}],sidebarNav:[{title:"Procedimentos de comunicação",items:[{title:"CI",href:"/procedimentos/ci"}]},{title:"MXM",items:[{title:"Fundo Fixo",href:"/procedimentos/fundo-fixo"}]}]},{name:X}=D("dialog"),q={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},G=h([]),H=["content","title","description"];function J(u){const p={...q,...u},v=C(k(p,"ids")),{preventScroll:f,closeOnEscape:y,closeOnOutsideClick:O,role:g,portal:m,forceVisible:D,openFocus:R,closeFocus:V,onOutsideClick:$}=v,I=h(null),z=C({...E(H),...p.ids}),B=p.open??h(p.defaultOpen),J=F(B,p?.onOpenChange),K=b([J,D],(([e,t])=>e||t));let L=r;function Q(e){const t=e.currentTarget;l(e.currentTarget)&&l(t)&&(J.set(!0),I.set(t))}function U(){J.set(!1),j({prop:c(V),defaultEl:c(I)})}e([J],(([e])=>{x(100).then((()=>{G.update(e?e=>(e.push(c(z.content)),e):e=>e.filter((e=>e!==c(z.content))))}))}));const W=S(X("trigger"),{stores:[J],returned:([e])=>({"aria-haspopup":"dialog","aria-expanded":e,type:"button"}),action:e=>({destroy:t(o(e,"click",(e=>{Q(e)})),o(e,"keydown",(e=>{e.key!==s.ENTER&&e.key!==s.SPACE||(e.preventDefault(),Q(e))})))})}),Y=S(X("overlay"),{stores:[K],returned:([e])=>({hidden:!e||void 0,tabindex:-1,style:i({display:e?void 0:"none"}),"aria-hidden":!0,"data-state":e?"open":"closed"}),action:e=>{let t=r;if(c(y)){const o=n(e,{handler:()=>{U()}});o&&o.destroy&&(t=o.destroy)}return{destroy(){t()}}}}),Z=S(X("content"),{stores:[K,z.content,z.description,z.title],returned:([e,t,o,s])=>({id:t,role:c(g),"aria-describedby":o,"aria-labelledby":s,"aria-modal":e?"true":void 0,"data-state":e?"open":"closed",tabindex:-1,hidden:!e||void 0,style:i({display:e?void 0:"none"})}),action:o=>{let s=r,i=r;const d=t(e([J],(([e])=>{if(!e)return;const t=w({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:o});s=t.activate,i=t.deactivate;const n=t.useFocusTrap(o);return n&&n.destroy?n.destroy:t.deactivate})),e([O,J],(([e,t])=>a(o,{enabled:t,handler:t=>{if(c($)?.(t),t.defaultPrevented)return;const o=c(G),s=M(o)===c(z.content);e&&s&&U()}}).destroy)),e([y],(([e])=>{if(!e)return r;const t=n(o,{handler:()=>{U()}});return t&&t.destroy?t.destroy:r})),e([K],(([e])=>{A().then((()=>{e?s():i()}))})));return{destroy:()=>{L(),d()}}}}),_=S(X("portalled"),{stores:m,returned:e=>({"data-portal":e?"":void 0}),action:t=>{const o=e([m],(([e])=>{if(!e)return r;const o=T(t,e);if(null===o)return r;const s=N(t,o);return s&&s.destroy?s.destroy:r}));return{destroy(){o()}}}}),ee=S(X("title"),{stores:[z.title],returned:([e])=>({id:e})}),te=S(X("description"),{stores:[z.description],returned:([e])=>({id:e})}),oe=S(X("close"),{returned:()=>({type:"button"}),action:e=>({destroy:t(o(e,"click",(()=>{U()})),o(e,"keydown",(e=>{e.key!==s.SPACE&&e.key!==s.ENTER||(e.preventDefault(),U())})))})});return e([J,f],(([e,t])=>{if(d){if(t&&e&&(L=P()),e){const e=document.getElementById(c(z.content));j({prop:c(R),defaultEl:e})}return()=>{c(D)||L()}}})),{ids:z,elements:{content:Z,trigger:W,title:ee,description:te,overlay:Y,close:oe,portalled:_},states:{open:J},options:v}}function K(){const{NAME:e}={NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]};return p(e)}const L=v(((e,t,o,s)=>{let i,n,{preventScroll:r}=t,{closeOnEscape:a}=t,{closeOnOutsideClick:d}=t,{portal:l}=t,{open:c}=t,{onOpenChange:p}=t,{openFocus:v}=t,{closeFocus:y}=t,{onOutsideClick:O}=t;const{states:{open:g},updateOption:m,ids:h}=function(e){const{NAME:t,PARTS:o}={NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]},s=R(t,o),i={...J({...V(e),role:"dialog",forceVisible:!0}),getAttrs:s};return u(t,i),{...i,updateOption:$(i.options)}}({closeOnEscape:a,preventScroll:r,closeOnOutsideClick:d,portal:l,forceVisible:!0,defaultOpen:c,openFocus:v,closeFocus:y,onOutsideClick:O,onOpenChange:({next:e})=>(c!==e&&(p?.(e),c=e),e)}),C=b([h.content,h.description,h.title],(([e,t,o])=>({content:e,description:t,title:o})));return n=f(C,(e=>i=e)),void 0===t.preventScroll&&o.preventScroll&&void 0!==r&&o.preventScroll(r),void 0===t.closeOnEscape&&o.closeOnEscape&&void 0!==a&&o.closeOnEscape(a),void 0===t.closeOnOutsideClick&&o.closeOnOutsideClick&&void 0!==d&&o.closeOnOutsideClick(d),void 0===t.portal&&o.portal&&void 0!==l&&o.portal(l),void 0===t.open&&o.open&&void 0!==c&&o.open(c),void 0===t.onOpenChange&&o.onOpenChange&&void 0!==p&&o.onOpenChange(p),void 0===t.openFocus&&o.openFocus&&void 0!==v&&o.openFocus(v),void 0===t.closeFocus&&o.closeFocus&&void 0!==y&&o.closeFocus(y),void 0===t.onOutsideClick&&o.onOutsideClick&&void 0!==O&&o.onOutsideClick(O),void 0!==c&&g.set(c),m("preventScroll",r),m("closeOnEscape",a),m("closeOnOutsideClick",d),m("portal",l),m("openFocus",v),m("closeFocus",y),m("onOutsideClick",O),n(),`${s.default?s.default({ids:i}):""}`})),Q=L,U=v(((e,t,o,s)=>{let i,n,r,a=y(t,["asChild","el"]),{asChild:d=!1}=t,{el:l}=t;const{elements:{trigger:c},getAttrs:u}=K();r=f(c,(e=>n=e)),I();const p=u("trigger");return void 0===t.asChild&&o.asChild&&void 0!==d&&o.asChild(d),void 0===t.el&&o.el&&void 0!==l&&o.el(l),i=n,Object.assign(i,p),r(),""+(d?`${s.default?s.default({builder:i}):""}`:`<button${O([g(i),{type:"button"},g(a)],{})}${m("this",l,0)}>${s.default?s.default({builder:i}):""}</button>`)})),W=z({base:"fixed z-50 gap-4 bg-background p-6 shadow-lg",variants:{side:{top:"inset-x-0 top-0 border-b ",bottom:"inset-x-0 bottom-0 border-t",left:"inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm"}},defaultVariants:{side:"right"}}),Y={top:{in:{y:"-100%",duration:500,opacity:1},out:{y:"-100%",duration:300,opacity:1}},bottom:{in:{y:"100%",duration:500,opacity:1},out:{y:"100%",duration:300,opacity:1}},left:{in:{x:"-100%",duration:500,opacity:1},out:{x:"-100%",duration:300,opacity:1}},right:{in:{x:"100%",duration:500,opacity:1},out:{x:"100%",duration:300,opacity:1}}};export{L as D,Q as R,U as T,W as a,K as g,B as r,Y as s};
